<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Google Form with Location</title>
  <script>
    function redirectWithLocation(position) {
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;
      // Replace the entry field with your Google Form’s prefill field
      const formURL = `https://docs.google.com/forms/d/e/1FAIpQLSeS8ABSUe0dYQWmXipEmygOOBLa-D98SG1NBSip9s-129dZSw/viewform?usp=pp_url&entry.1280635522=${lat},${lng}`;
      window.location.href = formURL;
    }

    function handleError(error) {
      alert("Unable to access your location. Please enable GPS or allow location permission.");
      console.error(error);
    }

    function requestLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(redirectWithLocation, handleError);
      } else {
        alert("Geolocation is not supported by your browser.");
      }
    }

    window.onload = requestLocation;
  </script>
</head>
<body>
  <h2>Getting your location…</h2>
  <p>Please allow location access to continue to the form.</p>
</body>
</html>
